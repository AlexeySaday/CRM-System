<div style="margin-left:210px;">
    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Время заявки</th>
                <th>Имя</th>
                <th>Текст заявки</th>
                <th>Контакты</th> 
            </tr>
        </thead>
        <tbody> 
        </tbody> 
    </table>
    <script>
async function getMessage(){ 
    const response = await fetch("https://localhost:44319/api/request", {
        method: "GET",
        headers: { "Accept": "application/json" }
    });
    if (response.ok == true) { 
        const messages = await response.json();
        const rows = document.querySelector("tbody");
        messages.forEach(el => rows.append(row(el)));
    }
    else {
        alert("fuck")
    }
}
function row(message) {

    const tr = document.createElement("tr"); 
    tr.setAttribute("data-row-id", message.id); 
    let td;
    Object.keys(message).forEach(el => {
        td = document.createElement("td");
        td.append(message.el);
        tr.append(td);
    });
    
    //const idTd = document.createElement("td");
    //idTd.append(message.id);
    //tr.append(idTd);

    //const dateTd = document.createElement("td");
    //dateTd.append(message.appDate);
    //tr.append(dateTd);

    //const nameTd = document.createElement("td");
    //nameTd.append(message.name);
    //tr.append(nameTd);

    //const textTd = document.createElement("td");
    //textTd.append(message.messageText);
    //tr.append(textTd); 
    
    //const contactTd = document.createElement("td");
    //contactTd.append(message.contact);
    //tr.append(contactTd);

    return tr;
}
getMessage();
    </script>
</div>
 